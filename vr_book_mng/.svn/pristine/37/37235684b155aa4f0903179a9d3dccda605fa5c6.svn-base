<?xml version="1.0" encoding="UTF-8"?>
<table sqlname="vr_version">



	<operation name="selectVersion" resultClass="java.util.HashMap"
		multiplicity="many">
		<extraparams>
			<param name="versionNum" javatype="java.lang.String" />
			<param name="versionType" javatype="java.lang.String" />
			<param name="status" javatype="java.lang.String" />
			<param name="offset" javatype="java.lang.Integer" />
			<param name="limit" javatype="java.lang.Integer" />
		</extraparams>
		<sql>
			select * from vr_version
		</sql>
		<sqlmap>
		<![CDATA[
		SELECT 
		ID,
		VERSION_NUM,
		VERSION_TYPE,
		STATUS,
		DOWNLOAD_URL,
		MEMO,
		GMT_CREATE,
		GMT_MODIFIED
		FROM vr_version
		where 1=1 
		<isNotEmpty property="versionNum">
   			AND VERSION_NUM like '%$versionNum$%'
   		</isNotEmpty>
		<isNotEmpty property="versionType">
   			AND VERSION_TYPE ='$versionType$'
   		</isNotEmpty>
   		<isNotEmpty property="status">
   			AND STATUS = '$status$'
   		</isNotEmpty>
   		order by GMT_CREATE desc 
   		LIMIT $offset$, $limit$
		]]>
		</sqlmap>
	</operation>
	<operation name="selectVersionCount" resultClass="int">
		<extraparams>
			<param name="versionNum" javatype="java.lang.String" />
			<param name="versionType" javatype="java.lang.String" />
			<param name="status" javatype="java.lang.String" />
		</extraparams>
		<sql>select count(1) from vr_version</sql>
		<sqlmap>
			<![CDATA[
				SELECT count(1) FROM vr_version
				where 1=1 
				<isNotEmpty property="versionNum">
		   			AND VERSION_NUM like '%$versionNum$%'
		   		</isNotEmpty>
				<isNotEmpty property="versionType">
		   			AND VERSION_TYPE ='$versionType$'
		   		</isNotEmpty>
		   		<isNotEmpty property="status">
		   			AND STATUS = '$status$'
		   		</isNotEmpty>
        	]]>
		</sqlmap>
	</operation>
	<operation name="insert">
		<sql>
			insert into vr_version (
			VERSION_NUM,
			VERSION_TYPE,
			STATUS,
			DOWNLOAD_URL,
			MEMO,
			GMT_CREATE,
			GMT_MODIFIED) values
			(?,?,?,?,?,CURRENT_TIMESTAMP,CURRENT_TIMESTAMP)
		</sql>
	</operation>
	<operation name="delete">
		<sql>
			delete from vr_version where ID = ?
		</sql>
	</operation>
	<operation name="updatVersion">
		<sql>
			update vr_version set VERSION_NUM = ? ,VERSION_TYPE=?,STATUS=?, DOWNLOAD_URL=?,MEMO=?,GMT_MODIFIED = CURRENT_TIMESTAMP where ID= ? 
		</sql>
	</operation>
	
</table>