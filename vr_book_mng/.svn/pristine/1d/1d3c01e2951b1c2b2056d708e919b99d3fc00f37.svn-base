<?xml version="1.0" encoding="UTF-8"?>
<table sqlname="vr_search">



<operation name="selectSearch" resultClass="java.util.HashMap" multiplicity="many">
	<sql>
		select * from vr_search where 1 = 1
	</sql>
	<sqlmap>
		<![CDATA[
		SELECT KEY_WORDS  name ,COUNT(1)  value FROM vr_search  GROUP BY KEY_WORDS  ORDER BY value desc LIMIT 0,10
		]]>
	</sqlmap>
</operation>
<operation name="selectAllSearch" resultClass="java.util.HashMap" multiplicity="many">
	<extraparams>
			<param name="wordCount" javatype="java.lang.Integer" />
			<param name="offset" javatype="java.lang.Integer" />
			<param name="limit" javatype="java.lang.Integer" />
		</extraparams>
	<sql>
		select * from vr_search where 1 = 1
	</sql>
	<sqlmap>
		<![CDATA[
		select b.* from (select a.*,COUNT(a.KEY_WORDS) as value from vr_search a GROUP BY a.KEY_WORDS) b 
		<isNotEmpty property="wordCount">
		where b.value >#wordCount#
		</isNotEmpty>
		LIMIT #offset#,#limit#
		]]>
	</sqlmap>
</operation>

<operation name="selectSearchType" resultClass="java.util.HashMap" multiplicity="many">
	<sql>
		select * from vr_search where 1 = 1
	</sql>
	<sqlmap>
		<![CDATA[    
		SELECT TYPE  name ,COUNT(1)  value FROM vr_search  GROUP BY TYPE
		]]>
	</sqlmap>
</operation>
</table>